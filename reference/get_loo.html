<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute Leave-One-Out (LOO) predictions and parameter changes for a NeRF+ model — get_loo • nerfplus</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute Leave-One-Out (LOO) predictions and parameter changes for a NeRF+ model — get_loo"><meta name="description" content="This function computes leave-one-out (LOO) predictions and parameter changes
for a fitted NeRF+ model. For each sample, it computes the model's predictions and
parameter estimates when that sample is left out of the training data. This is useful
for assessing model stability and identifying influential observations."><meta property="og:description" content="This function computes leave-one-out (LOO) predictions and parameter changes
for a fitted NeRF+ model. For each sample, it computes the model's predictions and
parameter estimates when that sample is left out of the training data. This is useful
for assessing model stability and identifying influential observations."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nerfplus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compute Leave-One-Out (LOO) predictions and parameter changes for a NeRF+ model</h1>

      <div class="d-none name"><code>get_loo.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function computes leave-one-out (LOO) predictions and parameter changes
for a fitted NeRF+ model. For each sample, it computes the model's predictions and
parameter estimates when that sample is left out of the training data. This is useful
for assessing model stability and identifying influential observations.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_loo</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">x</span>,</span>
<span>  x_embed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  A <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xtest <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xtest_embed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ytest <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  A_full <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nodeids <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nodeids_test <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  metric <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return_all <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>A fitted NeRF+ model object.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A data frame or matrix containing the training data.</p></dd>


<dt id="arg-x-embed">x_embed<a class="anchor" aria-label="anchor" href="#arg-x-embed"></a></dt>
<dd><p>An optional data frame or matrix of network embeddings corresponding
to the training samples. Only needed if training embeddings were manually inputted.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>A vector of responses for the training data.</p></dd>


<dt id="arg-a">A<a class="anchor" aria-label="anchor" href="#arg-a"></a></dt>
<dd><p>An adjacency matrix representing the network structure for the training nodes.</p></dd>


<dt id="arg-xtest">xtest<a class="anchor" aria-label="anchor" href="#arg-xtest"></a></dt>
<dd><p>An optional data frame or matrix containing the test data.</p></dd>


<dt id="arg-xtest-embed">xtest_embed<a class="anchor" aria-label="anchor" href="#arg-xtest-embed"></a></dt>
<dd><p>An optional data frame or matrix of network embeddings corresponding
to the test samples.</p></dd>


<dt id="arg-ytest">ytest<a class="anchor" aria-label="anchor" href="#arg-ytest"></a></dt>
<dd><p>An optional vector of responses for the test data.</p></dd>


<dt id="arg-a-full">A_full<a class="anchor" aria-label="anchor" href="#arg-a-full"></a></dt>
<dd><p>An optional adjacency matrix representing the network structure for
the full set of nodes (training + testing nodes in that order).</p></dd>


<dt id="arg-nodeids">nodeids<a class="anchor" aria-label="anchor" href="#arg-nodeids"></a></dt>
<dd><p>An optional vector of node IDs of length n. If provided, node IDs
indicate the rows of A corresponding to each sample. If not provided, the rows
of A are assumed to be in the same order as the rows of x and y.</p></dd>


<dt id="arg-nodeids-test">nodeids_test<a class="anchor" aria-label="anchor" href="#arg-nodeids-test"></a></dt>
<dd><p>An optional vector of node IDs for the test data.</p></dd>


<dt id="arg-metric">metric<a class="anchor" aria-label="anchor" href="#arg-metric"></a></dt>
<dd><p>An optional function to compute the metric used for evaluating
prediction changes. If NULL, defaults to RMSE for linear models and AUROC
for logistic models.</p></dd>


<dt id="arg-return-all">return_all<a class="anchor" aria-label="anchor" href="#arg-return-all"></a></dt>
<dd><p>Logical indicating whether to return all intermediate results
for each tree in the forest. Defaults to FALSE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing:</p>
<dl><dt>loo_params</dt>
<dd><p>A list of LOO parameter estimates for each tree.</p></dd>

<dt>change_alphas</dt>
<dd><p>Matrix of changes in alpha parameters when each sample is left out.</p></dd>

<dt>mean_change_alphas</dt>
<dd><p>Mean change in alpha parameters across all trees.</p></dd>

<dt>mean_change_betas</dt>
<dd><p>Mean change in beta parameters across all trees.</p></dd>

<dt>loo_preds</dt>
<dd><p>Matrix of LOO predictions, where each column corresponds to
predictions when a different sample is left out.</p></dd>

<dt>loo_preds_test</dt>
<dd><p>Matrix of LOO predictions on test data (if provided).</p></dd>

<dt>mean_change_error_test</dt>
<dd><p>Mean change in prediction error on test data
across all trees (if provided).</p></dd>

<dt>mean_change_preds_test</dt>
<dd><p>Mean change in predictions on test data across
all trees (if provided).</p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">nerfplus_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="nerfplus.html">nerfplus</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">x</span>, y <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">y</span>, A <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">A</span>,</span></span>
<span class="r-in"><span>  lambda_netcoh <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  lambda_embed <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>  lambda_raw <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  lambda_stump <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>  family <span class="op">=</span> <span class="st">"linear"</span>, embedding <span class="op">=</span> <span class="st">"laplacian"</span>, sample_split <span class="op">=</span> <span class="st">"none"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">loo_out</span> <span class="op">&lt;-</span> <span class="fu">get_loo</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">nerfplus_out</span>,</span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">x</span>, y <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">y</span>, A <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">A</span>,</span></span>
<span class="r-in"><span>  xtest <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">xtest</span>, ytest <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">ytest</span>,</span></span>
<span class="r-in"><span>  A_full <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">A_full</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tiffany Tang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

