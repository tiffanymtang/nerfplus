<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Network-assisted Random Forest+ (NeRF+) • nerfplus</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Network-assisted Random Forest+ (NeRF+)">
<meta name="description" content="Network-assisted Random Forest+ (NeRF+) is a flexible and interpretable machine learning model for incorporating network data alongside node-level covariate information. Briefly, NeRF+ extends a generalization of random forests (RF) called RF+ to the network-assisted regression setting by incorporating both a network cohesion penalty and network embeddings as additional covariates. Using this approach, NeRF+ inherits both the flexibility and interpretability of RFs while allowing researchers to easily incorporate network information in their model to further improve predictive performance. This package provides tools to fit and interpret NeRF+ models, as detailed in Tang, Levina, and Zhu (2025) &lt;doi:xxx&gt;.">
<meta property="og:description" content="Network-assisted Random Forest+ (NeRF+) is a flexible and interpretable machine learning model for incorporating network data alongside node-level covariate information. Briefly, NeRF+ extends a generalization of random forests (RF) called RF+ to the network-assisted regression setting by incorporating both a network cohesion penalty and network embeddings as additional covariates. Using this approach, NeRF+ inherits both the flexibility and interpretability of RFs while allowing researchers to easily incorporate network information in their model to further improve predictive performance. This package provides tools to fit and interpret NeRF+ models, as detailed in Tang, Levina, and Zhu (2025) &lt;doi:xxx&gt;.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">nerfplus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="nerfplus">nerfplus<a class="anchor" aria-label="anchor" href="#nerfplus"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>nerfplus is an R package for fitting and interpreting <strong>Ne</strong>twork-assisted <strong>R</strong>andom <strong>F</strong>orest+ (NeRF+) models, as introduced in <a href="">Tang, Levina, and Zhu (2025+)</a>. At a high-level, NeRF+ provides a flexible and interpretable framework to incorporate network information alongside node-level covariate information in a generalized random forest framework. In practice, NeRF+ often exhibits highly-competitive predictive performance and importantly, can also be easily interpreted using feature importance and sample influence measures that are implemented in this package’s interpretability toolkit.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of nerfplus from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"tiffanymtang/nerfplus"</span>, subdir <span class="op">=</span> <span class="st">"nerfplus"</span><span class="op">)</span></span>
<span><span class="co"># or uncomment below to install with suggested dependencies; necessary to launch Shiny App</span></span>
<span><span class="co"># remotes::install_github("tiffanymtang/nerfplus", subdir = "nerfplus", dependencies = "Suggests")</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-usage">Example Usage<a class="anchor" aria-label="anchor" href="#example-usage"></a>
</h2>
<p>To demonstrate how to use nerfplus, we will make use of an example dataset provided in the package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tiffanymtang.github.io/nerfplus/">nerfplus</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">331</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># load example data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 6</span></span>
<span><span class="co">#&gt;  $ x     : num [1:80, 1:10] -0.0676 -1.0671 0.4536 1.479 0.0363 ...</span></span>
<span><span class="co">#&gt;  $ xtest : num [1:40, 1:10] -1.4549 -0.1724 -0.6287 0.0805 -0.3741 ...</span></span>
<span><span class="co">#&gt;  $ y     : num [1:80] -0.842 -2.413 -0.131 0.313 -0.714 ...</span></span>
<span><span class="co">#&gt;  $ ytest : num [1:40] -2.24 -1.36 -1.55 -1.21 -1.41 ...</span></span>
<span><span class="co">#&gt;  $ A     : num [1:80, 1:80] 0 1 1 1 0 1 0 1 1 1 ...</span></span>
<span><span class="co">#&gt;  $ A_full: num [1:120, 1:120] 0 1 1 1 0 1 0 1 1 1 ...</span></span></code></pre></div>
<p>This example data contains:</p>
<ul>
<li>
<code>x</code>: training covariate data</li>
<li>
<code>xtest</code>: test covariate data</li>
<li>
<code>y</code>: training response data</li>
<li>
<code>ytest</code>: test response data</li>
<li>
<code>A</code>: training adjacency matrix</li>
<li>
<code>A_full</code>: full adjacency matrix (training and test samples combined)</li>
</ul>
<p>Note that the samples in <code>A_full</code> must be aligned with the rows of <code>x</code> and <code>xtest</code>, in that order. If not, you can provide a vector of node IDs to indicate the alignment (<code>nodeids</code> for the training samples and <code>nodeids_test</code> for the test samples’ see <code><a href="reference/interpret_nerfplus.html">? nerfplus::interpret_nerfplus</a></code> for details).</p>
<p>Using this example dataset, we can first fit NeRF+ with pre-specified hyperparameters via:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lambda_netcoh</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">lambda_embed</span> <span class="op">&lt;-</span> <span class="fl">0.1</span></span>
<span><span class="va">lambda_raw</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span><span class="va">lambda_stump</span> <span class="op">&lt;-</span> <span class="fl">3</span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/nerfplus.html">nerfplus</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">x</span>, y <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">y</span>, A <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">A</span>,</span>
<span>  lambda_netcoh <span class="op">=</span> <span class="va">lambda_netcoh</span>,</span>
<span>  lambda_embed <span class="op">=</span> <span class="va">lambda_embed</span>,</span>
<span>  lambda_raw <span class="op">=</span> <span class="va">lambda_raw</span>,</span>
<span>  lambda_stump <span class="op">=</span> <span class="va">lambda_stump</span>,</span>
<span>  family <span class="op">=</span> <span class="st">"linear"</span>, embedding <span class="op">=</span> <span class="st">"laplacian"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>If we want to tune the hyperparameters, we can instead use <code><a href="reference/nerfplus_cv.html">nerfplus_cv()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lambdas_netcoh</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">0.01</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">lambdas_embed</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">0.01</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">lambdas_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">0.01</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">lambdas_stump</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">0.01</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">cv_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/nerfplus_cv.html">nerfplus_cv</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">x</span>, y <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">y</span>, A <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">A</span>,</span>
<span>  lambdas_netcoh <span class="op">=</span> <span class="va">lambdas_netcoh</span>,</span>
<span>  lambdas_embed <span class="op">=</span> <span class="va">lambdas_embed</span>,</span>
<span>  lambdas_raw <span class="op">=</span> <span class="va">lambdas_raw</span>,</span>
<span>  lambdas_stump <span class="op">=</span> <span class="va">lambdas_stump</span>,</span>
<span>  family <span class="op">=</span> <span class="st">"linear"</span>, embedding <span class="op">=</span> <span class="st">"laplacian"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Let’s quickly make predictions on the test set using our fitted (tuned) model and check its test prediction performance.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">yhat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span></span>
<span>  <span class="va">cv_fit</span>, x <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">xtest</span>, A_full <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">A_full</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Test MSE: %.3f"</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="op">(</span><span class="va">yhat</span> <span class="op">-</span> <span class="va">example_data</span><span class="op">$</span><span class="va">ytest</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Test MSE: 0.482</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>ytest <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">ytest</span>, yhat <span class="op">=</span> <span class="va">yhat</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">ytest</span>, y <span class="op">=</span> <span class="va">yhat</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_abline</a></span><span class="op">(</span></span>
<span>    slope <span class="op">=</span> <span class="fl">1</span>, intercept <span class="op">=</span> <span class="fl">0</span>, color <span class="op">=</span> <span class="st">"black"</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Test Set Predictions"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"True y"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Predicted y"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-predict-plot-1.png" width="100%"></p>
<p>To next interpret our fitted NeRF+ model, we can report:</p>
<ul>
<li>the permutation and MDI+ global feature importances</li>
<li>the local feature importances</li>
<li>the leave-one-out (LOO) sample influence measures</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">interpret_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/interpret_nerfplus.html">interpret_nerfplus</a></span><span class="op">(</span></span>
<span>  <span class="va">cv_fit</span>,</span>
<span>  x <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">x</span>, y <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">y</span>, A <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">A</span>,</span>
<span>  xtest <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">xtest</span>, ytest <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">ytest</span>, </span>
<span>  A_full <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">A_full</span>,</span>
<span>  methods <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"permute"</span>, <span class="st">"mdi+"</span>, <span class="st">"local"</span>, <span class="st">"loo"</span><span class="op">)</span>, </span>
<span>  <span class="co"># save = TRUE,</span></span>
<span>  B <span class="op">=</span> <span class="fl">25</span>  <span class="co"># B = number of permutations</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Or if we want to compute each of these interpretability measures separately, we can do so via:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># permutation global feature importance</span></span>
<span><span class="va">perm_globalfi</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_feature_importances.html">get_feature_importances</a></span><span class="op">(</span></span>
<span>  <span class="va">cv_fit</span>, </span>
<span>  x <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">xtest</span>, y <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">ytest</span>, A_full <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">A_full</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"permute"</span>, B <span class="op">=</span> <span class="fl">25</span>  <span class="co"># B = number of permutations</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># MDI+ global feature importance</span></span>
<span><span class="va">mdiplus_globalfi</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_feature_importances.html">get_feature_importances</a></span><span class="op">(</span></span>
<span>  <span class="va">cv_fit</span>, </span>
<span>  x <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">xtest</span>, y <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">ytest</span>, A_full <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">A_full</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"mdi+"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># local feature importance</span></span>
<span><span class="va">localfi</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_feature_importances.html">get_feature_importances</a></span><span class="op">(</span></span>
<span>  <span class="va">cv_fit</span>, </span>
<span>  x <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">xtest</span>, y <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">ytest</span>, A_full <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">A_full</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"local"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># leave-one-out sample influence</span></span>
<span><span class="va">loo_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_loo.html">get_loo</a></span><span class="op">(</span></span>
<span>  <span class="va">cv_fit</span>, </span>
<span>  x <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">x</span>, y <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">y</span>, A <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">A</span>,</span>
<span>  xtest <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">xtest</span>, ytest <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">ytest</span>, </span>
<span>  A_full <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">A_full</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="nerf-interpreter-shiny-app">NeRF+ Interpreter Shiny App<a class="anchor" aria-label="anchor" href="#nerf-interpreter-shiny-app"></a>
</h2>
<p>To further ease the interpretation of NeRF+ models, we also created a Shiny App that allows users to visualize and explore the feature importance and sample influence results interactively.</p>
<p><img src="./reference/figures/shiny.gif"></p>
<p>There are two main ways to launch the app. Note that both options rely on the suggested dependencies being installed. If you did not install the package with suggested dependencies, you can do so by running <code>remotes::install_github("tiffanymtang/nerfplus", subdir = "nerfplus", dependencies = "Suggests")</code>.</p>
<p><strong>Option 1: Launch the app directly from R without any arguments.</strong></p>
<p>The Shiny App can be launched directly from R via the <code><a href="reference/run_app.html">run_app()</a></code> function:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/run_app.html">run_app</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>After launching the app, users can upload their own data and their fitted NeRF+ model (or pre-computed interpretability results) in the app to then explore the results.</p>
<p><em>Note:</em> If users want to upload their pre-computed interpretability results (as opposed to having the Shiny App compute them), they can do so by uploading the <code>.rds</code> files created by the <code>interpret_nerfplus(save = TRUE)</code> function.</p>
<p><strong>Option 2: Launch the app directly from R with pre-computed interpretability results.</strong></p>
<p>Alternatively, users can use the <code><a href="reference/interpret_nerfplus.html">interpret_nerfplus()</a></code> function to compute the interpretability results first, and then launch the Shiny App with these results as arguments to <code><a href="reference/run_app.html">run_app()</a></code>. For example:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">interpret_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/interpret_nerfplus.html">interpret_nerfplus</a></span><span class="op">(</span></span>
<span>  <span class="va">cv_fit</span>,</span>
<span>  x <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">x</span>, y <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">y</span>, A <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">A</span>,</span>
<span>  xtest <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">xtest</span>, ytest <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">ytest</span>, </span>
<span>  A_full <span class="op">=</span> <span class="va">example_data</span><span class="op">$</span><span class="va">A_full</span>,</span>
<span>  methods <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"permute"</span>, <span class="st">"mdi+"</span>, <span class="st">"local"</span>, <span class="st">"loo"</span><span class="op">)</span>, B <span class="op">=</span> <span class="fl">25</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/run_app.html">run_app</a></span><span class="op">(</span></span>
<span>  data_list <span class="op">=</span> <span class="va">interpret_results</span><span class="op">$</span><span class="va">data_list</span>,</span>
<span>  object <span class="op">=</span> <span class="va">interpret_results</span><span class="op">$</span><span class="va">object</span>,</span>
<span>  fi_results <span class="op">=</span> <span class="va">interpret_results</span><span class="op">$</span><span class="va">fi_results</span>,</span>
<span>  loo_results <span class="op">=</span> <span class="va">interpret_results</span><span class="op">$</span><span class="va">loo_results</span></span>
<span><span class="op">)</span></span></code></pre></div>
<!-- You'll still need to render `README.Rmd` regularly, to keep `README.md` up-to-date. `devtools::build_readme()` is handy for this. -->
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing nerfplus</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Tiffany Tang <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-8079-6867" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tiffany Tang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
